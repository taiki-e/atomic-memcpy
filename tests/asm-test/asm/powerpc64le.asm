asm_test::atomic_memcpy_load_align1::read_volatile_acquire_fence:
        addis             2, 12, 0
        addi              2, 2, 0
        stdu              1, -336(1)
        std               14, 192(1)
        std               15, 200(1)
        std               16, 208(1)
        std               17, 216(1)
        std               18, 224(1)
        std               19, 232(1)
        std               20, 240(1)
        std               21, 248(1)
        std               22, 256(1)
        std               23, 264(1)
        std               24, 272(1)
        std               25, 280(1)
        std               26, 288(1)
        std               27, 296(1)
        std               28, 304(1)
        std               29, 312(1)
        std               30, 320(1)
        std               31, 328(1)
        std               2, 184(1)
        lbz               5, 63(4)
        stw               5, 180(1)
        lbz               5, 62(4)
        stw               5, 176(1)
        lbz               5, 61(4)
        stw               5, 172(1)
        lbz               5, 60(4)
        stw               5, 168(1)
        lbz               5, 59(4)
        stw               5, 164(1)
        lbz               5, 58(4)
        stw               5, 160(1)
        lbz               5, 57(4)
        stw               5, 156(1)
        lbz               5, 56(4)
        stw               5, 152(1)
        lbz               5, 55(4)
        stw               5, 148(1)
        lbz               5, 54(4)
        stw               5, 144(1)
        lbz               5, 53(4)
        stw               5, 140(1)
        lbz               5, 52(4)
        stw               5, 136(1)
        lbz               5, 51(4)
        stw               5, 132(1)
        lbz               5, 50(4)
        stw               5, 128(1)
        lbz               5, 49(4)
        stw               5, 124(1)
        lbz               5, 48(4)
        stw               5, 120(1)
        lbz               5, 47(4)
        stw               5, 116(1)
        lbz               5, 46(4)
        stw               5, 112(1)
        lbz               5, 45(4)
        stw               5, 108(1)
        lbz               5, 44(4)
        stw               5, 104(1)
        lbz               5, 43(4)
        stw               5, 100(1)
        lbz               5, 42(4)
        stw               5, 96(1)
        lbz               5, 41(4)
        stw               5, 92(1)
        lbz               5, 40(4)
        stw               5, 88(1)
        lbz               5, 39(4)
        stw               5, 84(1)
        lbz               5, 38(4)
        stw               5, 80(1)
        lbz               5, 37(4)
        stw               5, 76(1)
        lbz               5, 36(4)
        stw               5, 72(1)
        lbz               5, 35(4)
        stw               5, 68(1)
        lbz               5, 34(4)
        stw               5, 64(1)
        lbz               5, 33(4)
        stw               5, 60(1)
        lbz               5, 32(4)
        stw               5, 56(1)
        lbz               5, 31(4)
        stw               5, 52(1)
        lbz               5, 30(4)
        stw               5, 48(1)
        lbz               5, 29(4)
        stw               5, 44(1)
        lbz               2, 28(4)
        lbz               31, 27(4)
        lbz               14, 26(4)
        lbz               15, 25(4)
        lbz               16, 24(4)
        lbz               17, 23(4)
        lbz               18, 22(4)
        lbz               19, 21(4)
        lbz               20, 20(4)
        lbz               21, 19(4)
        lbz               22, 18(4)
        lbz               23, 17(4)
        lbz               24, 16(4)
        lbz               25, 15(4)
        lbz               26, 14(4)
        lbz               27, 13(4)
        lbz               28, 12(4)
        lbz               29, 11(4)
        lbz               30, 10(4)
        lbz               0, 9(4)
        lbz               12, 8(4)
        lbz               11, 7(4)
        lbz               10, 6(4)
        lbz               9, 5(4)
        lbz               8, 4(4)
        lbz               7, 3(4)
        lbz               6, 2(4)
        lbz               5, 1(4)
        lbz               4, 0(4)
        stb               4, 0(3)
        lwz               4, 44(1)
        stb               5, 1(3)
        stb               6, 2(3)
        stb               7, 3(3)
        stb               8, 4(3)
        stb               9, 5(3)
        stb               10, 6(3)
        stb               11, 7(3)
        stb               12, 8(3)
        stb               0, 9(3)
        stb               30, 10(3)
        stb               29, 11(3)
        stb               28, 12(3)
        stb               27, 13(3)
        stb               26, 14(3)
        stb               25, 15(3)
        stb               24, 16(3)
        stb               23, 17(3)
        stb               22, 18(3)
        stb               21, 19(3)
        stb               20, 20(3)
        stb               19, 21(3)
        stb               18, 22(3)
        stb               17, 23(3)
        stb               16, 24(3)
        stb               15, 25(3)
        stb               14, 26(3)
        stb               31, 27(3)
        stb               2, 28(3)
        stb               4, 29(3)
        lwz               4, 48(1)
        stb               4, 30(3)
        lwz               4, 52(1)
        stb               4, 31(3)
        lwz               4, 56(1)
        stb               4, 32(3)
        lwz               4, 60(1)
        stb               4, 33(3)
        lwz               4, 64(1)
        stb               4, 34(3)
        lwz               4, 68(1)
        stb               4, 35(3)
        lwz               4, 72(1)
        stb               4, 36(3)
        lwz               4, 76(1)
        stb               4, 37(3)
        lwz               4, 80(1)
        stb               4, 38(3)
        lwz               4, 84(1)
        stb               4, 39(3)
        lwz               4, 88(1)
        stb               4, 40(3)
        lwz               4, 92(1)
        stb               4, 41(3)
        lwz               4, 96(1)
        stb               4, 42(3)
        lwz               4, 100(1)
        stb               4, 43(3)
        lwz               4, 104(1)
        stb               4, 44(3)
        lwz               4, 108(1)
        stb               4, 45(3)
        lwz               4, 112(1)
        stb               4, 46(3)
        lwz               4, 116(1)
        stb               4, 47(3)
        lwz               4, 120(1)
        stb               4, 48(3)
        lwz               4, 124(1)
        stb               4, 49(3)
        lwz               4, 128(1)
        stb               4, 50(3)
        lwz               4, 132(1)
        stb               4, 51(3)
        lwz               4, 136(1)
        stb               4, 52(3)
        lwz               4, 140(1)
        stb               4, 53(3)
        lwz               4, 144(1)
        stb               4, 54(3)
        lwz               4, 148(1)
        stb               4, 55(3)
        lwz               4, 152(1)
        stb               4, 56(3)
        lwz               4, 156(1)
        stb               4, 57(3)
        lwz               4, 160(1)
        stb               4, 58(3)
        lwz               4, 164(1)
        stb               4, 59(3)
        lwz               4, 168(1)
        stb               4, 60(3)
        lwz               4, 172(1)
        stb               4, 61(3)
        lwz               4, 176(1)
        stb               4, 62(3)
        lwz               4, 180(1)
        stb               4, 63(3)
        lwsync
        ld                2, 184(1)
        ld                31, 328(1)
        ld                30, 320(1)
        ld                29, 312(1)
        ld                28, 304(1)
        ld                27, 296(1)
        ld                26, 288(1)
        ld                25, 280(1)
        ld                24, 272(1)
        ld                23, 264(1)
        ld                22, 256(1)
        ld                21, 248(1)
        ld                20, 240(1)
        ld                19, 232(1)
        ld                18, 224(1)
        ld                17, 216(1)
        ld                16, 208(1)
        ld                15, 200(1)
        ld                14, 192(1)
        addi              1, 1, 336
        blr

asm_test::atomic_memcpy_load_align1::acquire:
        addi              5, 4, 7
        rldicr            7, 5, 0, 60
        addi              5, 1, -64
        cmpld             7, 4
        bf                2, 0f
        li                6, 0
        li                7, 64
        b                 4f
0:
        sub               6, 7, 4
        sub               7, 4, 7
        li                8, -8
        cmpld             7, 8
        bt                1, 2f
        li                10, 1
        addi              9, 4, -8
        addi              8, 1, -72
        rldic             10, 10, 61, 2
        mtctr             10
        li                10, 0
        nop
1:
        lbz               11, 8(9)
        addi              10, 10, 8
        stbu              11, 8(8)
        lbz               11, 9(9)
        stb               11, 1(8)
        lbz               11, 10(9)
        stb               11, 2(8)
        lbz               11, 11(9)
        stb               11, 3(8)
        lbz               11, 12(9)
        stb               11, 4(8)
        lbz               11, 13(9)
        stb               11, 5(8)
        lbz               11, 14(9)
        stb               11, 6(8)
        lbz               11, 15(9)
        addi              9, 9, 8
        stb               11, 7(8)
        bdnz              1b
2:
        mtctr             6
        addi              8, 4, -1
        addi              9, 1, -65
        nop
        nop
3:
        lbz               10, 1(8)
        addi              8, 8, 1
        stbu              10, 1(9)
        bdnz              3b
        addi              7, 7, 64
        cmpldi            7, 8
        bt                0, 6f
4:
        addi              10, 7, -8
        li                11, 7
        addi              9, 6, -8
        cmpldi            10, 7
        add               8, 4, 9
        add               9, 5, 9
        isellt            10, 10, 11
        not               10, 10
        add               10, 10, 7
        rldicl            10, 10, 61, 3
        addi              10, 10, 1
        mtctr             10
        nop
5:
        ld                10, 8(8)
        addi              8, 8, 8
        addi              7, 7, -8
        addi              6, 6, 8
        std               10, 8(9)
        addi              9, 9, 8
        bdnz              5b
6:
        cmpldi            7, 0
        bt                2, 9f
        addi              9, 6, -1
        mtctr             7
        add               8, 4, 9
        add               9, 5, 9
        nop
        nop
        nop
7:
        lbz               10, 1(8)
        addi              8, 8, 1
        stbu              10, 1(9)
        bdnz              7b
        cmpldi            7, 8
        bt                0, 9f
        add               6, 7, 6
        addi              7, 6, -8
        add               6, 4, 7
        add               4, 5, 7
        li                7, 1
        rldic             7, 7, 61, 2
        mtctr             7
        nop
        nop
        nop
8:
        lbz               7, 8(6)
        stbu              7, 8(4)
        lbz               7, 9(6)
        stb               7, 1(4)
        lbz               7, 10(6)
        stb               7, 2(4)
        lbz               7, 11(6)
        stb               7, 3(4)
        lbz               7, 12(6)
        stb               7, 4(4)
        lbz               7, 13(6)
        stb               7, 5(4)
        lbz               7, 14(6)
        stb               7, 6(4)
        lbz               7, 15(6)
        addi              6, 6, 8
        stb               7, 7(4)
        bdnz              8b
9:
        li                4, 48
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 32
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 16
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        lxvd2x            0, 0, 5
        stxvd2x           0, 0, 3
        lwsync
        blr

asm_test::atomic_memcpy_load_align2::read_volatile_acquire_fence:
        addis             2, 12, 0
        addi              2, 2, 0
        std               14, -144(1)
        std               15, -136(1)
        std               16, -128(1)
        std               17, -120(1)
        std               18, -112(1)
        std               19, -104(1)
        std               20, -96(1)
        std               21, -88(1)
        std               22, -80(1)
        std               23, -72(1)
        std               24, -64(1)
        std               25, -56(1)
        std               26, -48(1)
        std               27, -40(1)
        std               28, -32(1)
        std               29, -24(1)
        std               30, -16(1)
        std               31, -8(1)
        std               2, -152(1)
        lhz               5, 62(4)
        stw               5, -156(1)
        lhz               5, 60(4)
        stw               5, -160(1)
        lhz               5, 58(4)
        stw               5, -164(1)
        lhz               8, 56(4)
        lhz               9, 54(4)
        lhz               10, 52(4)
        lhz               11, 50(4)
        lhz               12, 48(4)
        lhz               0, 46(4)
        lhz               30, 44(4)
        lhz               29, 42(4)
        lhz               28, 40(4)
        lhz               27, 38(4)
        lhz               26, 36(4)
        lhz               25, 34(4)
        lhz               24, 32(4)
        lhz               23, 30(4)
        lhz               22, 28(4)
        lhz               21, 26(4)
        lhz               20, 24(4)
        lhz               19, 22(4)
        lhz               18, 20(4)
        lhz               17, 18(4)
        lhz               16, 16(4)
        lhz               15, 14(4)
        lhz               14, 12(4)
        lhz               31, 10(4)
        lhz               2, 8(4)
        lhz               7, 6(4)
        lhz               6, 4(4)
        lhz               5, 2(4)
        lhz               4, 0(4)
        sth               4, 0(3)
        lwz               4, -164(1)
        sth               5, 2(3)
        sth               6, 4(3)
        sth               7, 6(3)
        sth               2, 8(3)
        sth               31, 10(3)
        sth               14, 12(3)
        sth               15, 14(3)
        sth               16, 16(3)
        sth               17, 18(3)
        sth               18, 20(3)
        sth               19, 22(3)
        sth               20, 24(3)
        sth               21, 26(3)
        sth               22, 28(3)
        sth               23, 30(3)
        sth               24, 32(3)
        sth               25, 34(3)
        sth               26, 36(3)
        sth               27, 38(3)
        sth               28, 40(3)
        sth               4, 58(3)
        lwz               4, -160(1)
        sth               29, 42(3)
        sth               30, 44(3)
        sth               0, 46(3)
        sth               12, 48(3)
        sth               11, 50(3)
        sth               10, 52(3)
        sth               9, 54(3)
        sth               8, 56(3)
        sth               4, 60(3)
        lwz               4, -156(1)
        sth               4, 62(3)
        lwsync
        ld                2, -152(1)
        ld                31, -8(1)
        ld                30, -16(1)
        ld                29, -24(1)
        ld                28, -32(1)
        ld                27, -40(1)
        ld                26, -48(1)
        ld                25, -56(1)
        ld                24, -64(1)
        ld                23, -72(1)
        ld                22, -80(1)
        ld                21, -88(1)
        ld                20, -96(1)
        ld                19, -104(1)
        ld                18, -112(1)
        ld                17, -120(1)
        ld                16, -128(1)
        ld                15, -136(1)
        ld                14, -144(1)
        blr

asm_test::atomic_memcpy_load_align2::acquire:
        addi              5, 4, 7
        rldicr            7, 5, 0, 60
        addi              5, 1, -64
        cmpld             7, 4
        bf                2, 0f
        li                7, 64
        li                6, 0
        b                 4f
0:
        sub               6, 7, 4
        sub               7, 4, 7
        li                8, -8
        cmpld             7, 8
        bt                1, 2f
        li                10, 1
        addi              9, 4, -8
        addi              8, 1, -72
        rldic             10, 10, 61, 2
        mtctr             10
        li                10, 0
        nop
1:
        lbz               11, 8(9)
        addi              10, 10, 8
        stbu              11, 8(8)
        lbz               11, 9(9)
        stb               11, 1(8)
        lbz               11, 10(9)
        stb               11, 2(8)
        lbz               11, 11(9)
        stb               11, 3(8)
        lbz               11, 12(9)
        stb               11, 4(8)
        lbz               11, 13(9)
        stb               11, 5(8)
        lbz               11, 14(9)
        stb               11, 6(8)
        lbz               11, 15(9)
        addi              9, 9, 8
        stb               11, 7(8)
        bdnz              1b
2:
        mtctr             6
        addi              8, 4, -1
        addi              9, 1, -65
        nop
        nop
3:
        lbz               10, 1(8)
        addi              8, 8, 1
        stbu              10, 1(9)
        bdnz              3b
        addi              7, 7, 64
        cmpldi            7, 8
        bt                0, 6f
4:
        addi              10, 7, -8
        li                11, 7
        addi              9, 6, -8
        cmpldi            10, 7
        add               8, 4, 9
        add               9, 5, 9
        isellt            10, 10, 11
        not               10, 10
        add               10, 10, 7
        rldicl            10, 10, 61, 3
        addi              10, 10, 1
        mtctr             10
        nop
5:
        ld                10, 8(8)
        addi              8, 8, 8
        addi              7, 7, -8
        addi              6, 6, 8
        std               10, 8(9)
        addi              9, 9, 8
        bdnz              5b
6:
        cmpldi            7, 0
        bt                2, 7f
        cmpldi            7, 1
        lbzx              9, 4, 6
        mr                8, 6
        stbux             9, 8, 5
        bt                2, 7f
        add               4, 4, 6
        cmpldi            7, 2
        lbz               6, 1(4)
        stb               6, 1(8)
        bt                2, 7f
        cmpldi            7, 3
        lbz               6, 2(4)
        stb               6, 2(8)
        bt                2, 7f
        cmpldi            7, 4
        lbz               6, 3(4)
        stb               6, 3(8)
        bt                2, 7f
        cmpldi            7, 5
        lbz               6, 4(4)
        stb               6, 4(8)
        bt                2, 7f
        cmpldi            7, 6
        lbz               6, 5(4)
        stb               6, 5(8)
        bt                2, 7f
        lbz               4, 6(4)
        stb               4, 6(8)
7:
        li                4, 48
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 32
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 16
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        lxvd2x            0, 0, 5
        stxvd2x           0, 0, 3
        lwsync
        blr

asm_test::atomic_memcpy_load_align4::read_volatile_acquire_fence:
        std               25, -56(1)
        std               26, -48(1)
        std               27, -40(1)
        std               28, -32(1)
        std               29, -24(1)
        std               30, -16(1)
        lwz               5, 60(4)
        lwz               6, 56(4)
        lwz               7, 52(4)
        lwz               8, 48(4)
        lwz               9, 44(4)
        lwz               10, 40(4)
        lwz               11, 36(4)
        lwz               12, 32(4)
        lwz               0, 28(4)
        lwz               30, 24(4)
        lwz               29, 20(4)
        lwz               28, 16(4)
        lwz               27, 12(4)
        lwz               26, 8(4)
        lwz               25, 4(4)
        lwz               4, 0(4)
        stw               4, 0(3)
        stw               25, 4(3)
        stw               26, 8(3)
        stw               27, 12(3)
        stw               28, 16(3)
        stw               29, 20(3)
        stw               30, 24(3)
        stw               0, 28(3)
        stw               12, 32(3)
        stw               11, 36(3)
        stw               10, 40(3)
        stw               9, 44(3)
        stw               8, 48(3)
        stw               7, 52(3)
        stw               6, 56(3)
        stw               5, 60(3)
        lwsync
        ld                30, -16(1)
        ld                29, -24(1)
        ld                28, -32(1)
        ld                27, -40(1)
        ld                26, -48(1)
        ld                25, -56(1)
        blr

asm_test::atomic_memcpy_load_align4::acquire:
        addi              5, 4, 7
        rldicr            7, 5, 0, 60
        addi              5, 1, -64
        cmpld             7, 4
        bf                2, 0f
        li                7, 64
        li                6, 0
        b                 4f
0:
        sub               6, 7, 4
        sub               7, 4, 7
        li                8, -8
        cmpld             7, 8
        bt                1, 2f
        li                10, 1
        addi              9, 4, -8
        addi              8, 1, -72
        rldic             10, 10, 61, 2
        mtctr             10
        li                10, 0
        nop
1:
        lbz               11, 8(9)
        addi              10, 10, 8
        stbu              11, 8(8)
        lbz               11, 9(9)
        stb               11, 1(8)
        lbz               11, 10(9)
        stb               11, 2(8)
        lbz               11, 11(9)
        stb               11, 3(8)
        lbz               11, 12(9)
        stb               11, 4(8)
        lbz               11, 13(9)
        stb               11, 5(8)
        lbz               11, 14(9)
        stb               11, 6(8)
        lbz               11, 15(9)
        addi              9, 9, 8
        stb               11, 7(8)
        bdnz              1b
2:
        mtctr             6
        addi              8, 4, -1
        addi              9, 1, -65
        nop
        nop
3:
        lbz               10, 1(8)
        addi              8, 8, 1
        stbu              10, 1(9)
        bdnz              3b
        addi              7, 7, 64
        cmpldi            7, 8
        bt                0, 6f
4:
        addi              10, 7, -8
        li                11, 7
        addi              9, 6, -8
        cmpldi            10, 7
        add               8, 4, 9
        add               9, 5, 9
        isellt            10, 10, 11
        not               10, 10
        add               10, 10, 7
        rldicl            10, 10, 61, 3
        addi              10, 10, 1
        mtctr             10
        nop
5:
        ld                10, 8(8)
        addi              8, 8, 8
        addi              7, 7, -8
        addi              6, 6, 8
        std               10, 8(9)
        addi              9, 9, 8
        bdnz              5b
6:
        cmpldi            7, 0
        bt                2, 7f
        cmpldi            7, 1
        lbzx              9, 4, 6
        mr                8, 6
        stbux             9, 8, 5
        bt                2, 7f
        add               4, 4, 6
        cmpldi            7, 2
        lbz               6, 1(4)
        stb               6, 1(8)
        bt                2, 7f
        cmpldi            7, 3
        lbz               6, 2(4)
        stb               6, 2(8)
        bt                2, 7f
        cmpldi            7, 4
        lbz               6, 3(4)
        stb               6, 3(8)
        bt                2, 7f
        cmpldi            7, 5
        lbz               6, 4(4)
        stb               6, 4(8)
        bt                2, 7f
        cmpldi            7, 6
        lbz               6, 5(4)
        stb               6, 5(8)
        bt                2, 7f
        lbz               4, 6(4)
        stb               4, 6(8)
7:
        li                4, 48
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 32
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        li                4, 16
        lxvd2x            0, 5, 4
        stxvd2x           0, 3, 4
        lxvd2x            0, 0, 5
        stxvd2x           0, 0, 3
        lwsync
        blr

asm_test::atomic_memcpy_load_align8::read_volatile_acquire_fence:
        ld                5, 56(4)
        ld                6, 48(4)
        ld                7, 40(4)
        ld                8, 32(4)
        ld                9, 24(4)
        ld                10, 16(4)
        ld                11, 8(4)
        ld                4, 0(4)
        std               4, 0(3)
        std               11, 8(3)
        std               10, 16(3)
        std               9, 24(3)
        std               8, 32(3)
        std               7, 40(3)
        std               6, 48(3)
        std               5, 56(3)
        lwsync
        blr

asm_test::atomic_memcpy_load_align8::acquire:
        ld                5, 56(4)
        ld                6, 48(4)
        ld                7, 40(4)
        ld                8, 32(4)
        ld                9, 24(4)
        ld                10, 16(4)
        ld                11, 8(4)
        ld                4, 0(4)
        std               4, 0(3)
        std               11, 8(3)
        std               10, 16(3)
        std               9, 24(3)
        std               8, 32(3)
        std               7, 40(3)
        std               6, 48(3)
        std               5, 56(3)
        lwsync
        blr

asm_test::atomic_memcpy_load_align16::read_volatile_acquire_fence:
        ld                5, 56(4)
        ld                6, 48(4)
        ld                7, 40(4)
        ld                8, 32(4)
        ld                9, 24(4)
        ld                10, 16(4)
        ld                11, 8(4)
        ld                4, 0(4)
        std               4, 0(3)
        std               11, 8(3)
        std               10, 16(3)
        std               9, 24(3)
        std               8, 32(3)
        std               7, 40(3)
        std               6, 48(3)
        std               5, 56(3)
        lwsync
        blr

asm_test::atomic_memcpy_load_align16::acquire:
        ld                5, 56(4)
        ld                6, 48(4)
        ld                7, 40(4)
        ld                8, 32(4)
        ld                9, 24(4)
        ld                10, 16(4)
        ld                11, 8(4)
        ld                4, 0(4)
        std               4, 0(3)
        std               11, 8(3)
        std               10, 16(3)
        std               9, 24(3)
        std               8, 32(3)
        std               7, 40(3)
        std               6, 48(3)
        std               5, 56(3)
        lwsync
        blr

asm_test::atomic_memcpy_store_align1::write_volatile_release_fence:
        li                5, 48
        lwsync
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 32
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 16
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        lxvd2x            0, 0, 4
        stxvd2x           0, 0, 3
        blr

asm_test::atomic_memcpy_store_align1::release:
        addi              5, 3, 7
        lwsync
        rldicr            6, 5, 0, 60
        cmpld             6, 3
        bf                2, 0f
        li                5, 0
        li                6, 64
        b                 4f
0:
        sub               5, 6, 3
        sub               6, 3, 6
        li                7, -8
        cmpld             6, 7
        bt                1, 2f
        li                8, 1
        addi              7, 4, -8
        addi              9, 3, -8
        rldic             8, 8, 61, 2
        mtctr             8
        li                8, 0
        nop
1:
        lbzu              10, 8(7)
        addi              8, 8, 8
        stb               10, 8(9)
        lbz               10, 1(7)
        stb               10, 9(9)
        lbz               10, 2(7)
        stb               10, 10(9)
        lbz               10, 3(7)
        stb               10, 11(9)
        lbz               10, 4(7)
        stb               10, 12(9)
        lbz               10, 5(7)
        stb               10, 13(9)
        lbz               10, 6(7)
        stb               10, 14(9)
        lbz               10, 7(7)
        stb               10, 15(9)
        addi              9, 9, 8
        bdnz              1b
2:
        mtctr             5
        addi              7, 4, -1
        addi              8, 3, -1
        nop
        nop
3:
        lbzu              9, 1(7)
        stb               9, 1(8)
        addi              8, 8, 1
        bdnz              3b
        addi              6, 6, 64
        cmpldi            6, 8
        bt                0, 6f
4:
        addi              9, 6, -8
        li                10, 7
        addi              8, 5, -8
        cmpldi            9, 7
        add               7, 4, 8
        add               8, 3, 8
        isellt            9, 9, 10
        not               9, 9
        add               9, 9, 6
        rldicl            9, 9, 61, 3
        addi              9, 9, 1
        mtctr             9
        nop
5:
        ld                9, 8(7)
        addi              7, 7, 8
        addi              6, 6, -8
        addi              5, 5, 8
        std               9, 8(8)
        addi              8, 8, 8
        bdnz              5b
6:
        cmpldi            6, 0
        bclr              12, 2
        addi              8, 5, -1
        mtctr             6
        add               7, 4, 8
        add               8, 3, 8
        nop
        nop
        nop
7:
        lbzu              9, 1(7)
        stb               9, 1(8)
        addi              8, 8, 1
        bdnz              7b
        cmpldi            6, 8
        bclr              12, 0
        add               5, 6, 5
        addi              5, 5, -8
        add               4, 4, 5
        add               3, 3, 5
        li                5, 1
        rldic             5, 5, 61, 2
        mtctr             5
        nop
        nop
        nop
8:
        lbzu              5, 8(4)
        stb               5, 8(3)
        lbz               5, 1(4)
        stb               5, 9(3)
        lbz               5, 2(4)
        stb               5, 10(3)
        lbz               5, 3(4)
        stb               5, 11(3)
        lbz               5, 4(4)
        stb               5, 12(3)
        lbz               5, 5(4)
        stb               5, 13(3)
        lbz               5, 6(4)
        stb               5, 14(3)
        lbz               5, 7(4)
        stb               5, 15(3)
        addi              3, 3, 8
        bdnz              8b
        blr

asm_test::atomic_memcpy_store_align2::write_volatile_release_fence:
        li                5, 48
        lwsync
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 32
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 16
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        lxvd2x            0, 0, 4
        stxvd2x           0, 0, 3
        blr

asm_test::atomic_memcpy_store_align2::release:
        addi              5, 3, 7
        lwsync
        rldicr            6, 5, 0, 60
        cmpld             6, 3
        bf                2, 0f
        li                6, 64
        li                5, 0
        b                 4f
0:
        sub               5, 6, 3
        sub               6, 3, 6
        li                7, -8
        cmpld             6, 7
        bt                1, 2f
        li                8, 1
        addi              7, 4, -8
        addi              9, 3, -8
        rldic             8, 8, 61, 2
        mtctr             8
        li                8, 0
        nop
1:
        lbzu              10, 8(7)
        addi              8, 8, 8
        stb               10, 8(9)
        lbz               10, 1(7)
        stb               10, 9(9)
        lbz               10, 2(7)
        stb               10, 10(9)
        lbz               10, 3(7)
        stb               10, 11(9)
        lbz               10, 4(7)
        stb               10, 12(9)
        lbz               10, 5(7)
        stb               10, 13(9)
        lbz               10, 6(7)
        stb               10, 14(9)
        lbz               10, 7(7)
        stb               10, 15(9)
        addi              9, 9, 8
        bdnz              1b
2:
        mtctr             5
        addi              7, 4, -1
        addi              8, 3, -1
        nop
        nop
3:
        lbzu              9, 1(7)
        stb               9, 1(8)
        addi              8, 8, 1
        bdnz              3b
        addi              6, 6, 64
        cmpldi            6, 8
        bt                0, 6f
4:
        addi              9, 6, -8
        li                10, 7
        addi              8, 5, -8
        cmpldi            9, 7
        add               7, 4, 8
        add               8, 3, 8
        isellt            9, 9, 10
        not               9, 9
        add               9, 9, 6
        rldicl            9, 9, 61, 3
        addi              9, 9, 1
        mtctr             9
        nop
5:
        ld                9, 8(7)
        addi              7, 7, 8
        addi              6, 6, -8
        addi              5, 5, 8
        std               9, 8(8)
        addi              8, 8, 8
        bdnz              5b
6:
        cmpldi            6, 0
        bclr              12, 2
        cmpldi            6, 1
        lbzux             7, 4, 5
        stbx              7, 3, 5
        bclr              12, 2
        cmpldi            6, 2
        add               3, 3, 5
        lbz               5, 1(4)
        stb               5, 1(3)
        bclr              12, 2
        cmpldi            6, 3
        lbz               5, 2(4)
        stb               5, 2(3)
        bclr              12, 2
        cmpldi            6, 4
        lbz               5, 3(4)
        stb               5, 3(3)
        bclr              12, 2
        cmpldi            6, 5
        lbz               5, 4(4)
        stb               5, 4(3)
        bclr              12, 2
        cmpldi            6, 6
        lbz               5, 5(4)
        stb               5, 5(3)
        bclr              12, 2
        lbz               4, 6(4)
        stb               4, 6(3)
        blr

asm_test::atomic_memcpy_store_align4::write_volatile_release_fence:
        li                5, 48
        lwsync
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 32
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 16
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        lxvd2x            0, 0, 4
        stxvd2x           0, 0, 3
        blr

asm_test::atomic_memcpy_store_align4::release:
        addi              5, 3, 7
        lwsync
        rldicr            6, 5, 0, 60
        cmpld             6, 3
        bf                2, 0f
        li                6, 64
        li                5, 0
        b                 4f
0:
        sub               5, 6, 3
        sub               6, 3, 6
        li                7, -8
        cmpld             6, 7
        bt                1, 2f
        li                8, 1
        addi              7, 4, -8
        addi              9, 3, -8
        rldic             8, 8, 61, 2
        mtctr             8
        li                8, 0
        nop
1:
        lbzu              10, 8(7)
        addi              8, 8, 8
        stb               10, 8(9)
        lbz               10, 1(7)
        stb               10, 9(9)
        lbz               10, 2(7)
        stb               10, 10(9)
        lbz               10, 3(7)
        stb               10, 11(9)
        lbz               10, 4(7)
        stb               10, 12(9)
        lbz               10, 5(7)
        stb               10, 13(9)
        lbz               10, 6(7)
        stb               10, 14(9)
        lbz               10, 7(7)
        stb               10, 15(9)
        addi              9, 9, 8
        bdnz              1b
2:
        mtctr             5
        addi              7, 4, -1
        addi              8, 3, -1
        nop
        nop
3:
        lbzu              9, 1(7)
        stb               9, 1(8)
        addi              8, 8, 1
        bdnz              3b
        addi              6, 6, 64
        cmpldi            6, 8
        bt                0, 6f
4:
        addi              9, 6, -8
        li                10, 7
        addi              8, 5, -8
        cmpldi            9, 7
        add               7, 4, 8
        add               8, 3, 8
        isellt            9, 9, 10
        not               9, 9
        add               9, 9, 6
        rldicl            9, 9, 61, 3
        addi              9, 9, 1
        mtctr             9
        nop
5:
        ld                9, 8(7)
        addi              7, 7, 8
        addi              6, 6, -8
        addi              5, 5, 8
        std               9, 8(8)
        addi              8, 8, 8
        bdnz              5b
6:
        cmpldi            6, 0
        bclr              12, 2
        cmpldi            6, 1
        lbzux             7, 4, 5
        stbx              7, 3, 5
        bclr              12, 2
        cmpldi            6, 2
        add               3, 3, 5
        lbz               5, 1(4)
        stb               5, 1(3)
        bclr              12, 2
        cmpldi            6, 3
        lbz               5, 2(4)
        stb               5, 2(3)
        bclr              12, 2
        cmpldi            6, 4
        lbz               5, 3(4)
        stb               5, 3(3)
        bclr              12, 2
        cmpldi            6, 5
        lbz               5, 4(4)
        stb               5, 4(3)
        bclr              12, 2
        cmpldi            6, 6
        lbz               5, 5(4)
        stb               5, 5(3)
        bclr              12, 2
        lbz               4, 6(4)
        stb               4, 6(3)
        blr

asm_test::atomic_memcpy_store_align8::write_volatile_release_fence:
        li                5, 48
        lwsync
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 32
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 16
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        lxvd2x            0, 0, 4
        stxvd2x           0, 0, 3
        blr

asm_test::atomic_memcpy_store_align8::release:
        lwsync
        ld                5, 56(4)
        std               5, 56(3)
        ld                5, 48(4)
        std               5, 48(3)
        ld                5, 40(4)
        std               5, 40(3)
        ld                5, 32(4)
        std               5, 32(3)
        ld                5, 24(4)
        std               5, 24(3)
        ld                5, 16(4)
        std               5, 16(3)
        ld                5, 8(4)
        std               5, 8(3)
        ld                4, 0(4)
        std               4, 0(3)
        blr

asm_test::atomic_memcpy_store_align16::write_volatile_release_fence:
        li                5, 48
        lwsync
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 32
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        li                5, 16
        lxvd2x            0, 4, 5
        stxvd2x           0, 3, 5
        lxvd2x            0, 0, 4
        stxvd2x           0, 0, 3
        blr

asm_test::atomic_memcpy_store_align16::release:
        lwsync
        ld                5, 56(4)
        std               5, 56(3)
        ld                5, 48(4)
        std               5, 48(3)
        ld                5, 40(4)
        std               5, 40(3)
        ld                5, 32(4)
        std               5, 32(3)
        ld                5, 24(4)
        std               5, 24(3)
        ld                5, 16(4)
        std               5, 16(3)
        ld                5, 8(4)
        std               5, 8(3)
        ld                4, 0(4)
        std               4, 0(3)
        blr

